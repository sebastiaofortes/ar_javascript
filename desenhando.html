<!DOCTYPE html>
<html>
  <head>
    <title>Desenhando no AR</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://unpkg.com/ar.js@3.4.2/aframe/build/aframe-ar.min.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden">
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; gpsMinAccuracy: 100; gpsTimeInterval: 1000;"
    >
      <a-camera gps-new-camera="gpsMinDistance: 1;" rotation-reader></a-camera>

      <script>
        // Adiciona evento de clique para "desenhar" com esferas
        document.addEventListener('click', function () {
          const camera = document.querySelector('[gps-new-camera]');
          const position = camera.components['gps-new-camera'].currentCoords;

          if (!position) return;

          const sphere = document.createElement('a-sphere');
          sphere.setAttribute('radius', 0.5);
          sphere.setAttribute('color', '#FF5722');
          sphere.setAttribute('gps-entity-place', `latitude: ${position.latitude}; longitude: ${position.longitude}`);
          sphere.setAttribute('animation__scale', 'property: scale; to: 1.2 1.2 1.2; dur: 500; easing: easeOutElastic;');

          document.querySelector('a-scene').appendChild(sphere);
        });
      </script>
    </a-scene>
  </body>
</html>
